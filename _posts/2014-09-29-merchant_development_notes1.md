---
layout: post
title: TravelingMerchant开发手记01 - SpicyWolf与商人的世界
description: "Traveling Merchant Development Notes 01"
category: game
comments: true
share: true
---

《狼与香辛料》第一卷末尾，有个故事至今还让我记忆犹新。其中那个被商人买来的男孩对恶魔说：“逆神者恶魔啊，世上最好吃的人类不是我。世上最好吃的人类就在你面前。那人就是日复一日扛着串香料赚取财利，辛香料为他肥大的灵魂做了完美调味的男子啊”。原本是教会以商行为对象，劝说做生意必须有所节制的宗教戏剧，但在商人之间香辛料无疑有着另外一层含义，而且罗伦斯 “**希望我的身体也能早日有辛香料的完美调味**”。

随着故事的推进，越来越觉得在这样的世界中，成为一个旅行商人是多么的有趣(虽然没法人人都拥有萌狼赫罗)。哪怕仅仅是四处行走，贩卖货物乃至积累财富，慢慢让让全身心染上香辛料的味道，想着就觉得香气诱人：

![狼与香辛料 OP1]({{ site.url }}/images/spicywolf_op1.png)

也许我们无法穿越回欧洲，去体验那收割最后一粒麦子的喜悦，但在游戏中无疑可以创造一个像狼与香辛料那样的国度。以前我只是在想，如果有这样一个游戏，让玩家化身为欧洲的一名旅行商人，驱赶着马车来往于各个村镇、城市之间，交易和运输各种物资(麦子、铁器、香辛料...)从中积累财富，开设店铺乃至成立商会...
然而这样的想法遇到Google Ingress，一切都变得不一样了：游戏不再是坐在电脑前等待时间流逝，而是实际拿着带有3G/4G的设备来到户外，进行虚拟实境的游戏体验。

结合到旅行商人中 _(Traveling Merchant，暂时叫这个吧，反正是开发代号)_，**玩家需要的仅仅是拿起手机进入户外：将某个地方的特产低价买入，然后在另外一个物价较高的地方卖出以换取差价**。而在旅行的过程中，玩家同时也在影响着世界，用交易带动区域的繁荣，进而发展出村落、城镇乃至王国。

既然是虚拟实境的商业模拟，游戏需要具备以下几个规则：

1. **现实划分**：将地图划分为若干足够小的区域(Area)，根据经纬度与分布情况，计算每个区域都的特产与进口商品的基本供给量；
2. **生成集市，建立商铺**：每个区域中，生成若干现实世界地标作为集市(Market，类似Ingress中的Portal)，玩家可以在集市附近搜索商铺(Shop，只会分布在集市的附近)进行交易；
3. **供需与价格**：区域中的物品进货价格，由区域的供需关系决定_(微观经济学)_；
 - <span style="color:#888;">比如大麦产地供过于求，价格相对不产小麦的区域会低一些；而一些人口密集(繁荣度高)的区域，则整体物品的需求都会增加，甚至奢侈品需求也会上涨，导致部分奢侈品供不应求而高价</span>
4. **店铺竞争**：每个店铺可以以进货价格购买这些物品，并提高价格从中获利。不过店铺的销量，会受到其他店铺售价的影响而增减交易量_(竞争策略)_，并且仓库容量也受店铺等级制约；
5. **贸易驱动**：玩家贩卖商品的过程，会造成购买地的需求上涨和目标区域的供给增加；虽然单个商人的行为无法影响一个区域的经济，但大量的物资变动会导致区域间物价更趋近于均衡；

当然，上面说的特征仅仅是最基本的规则，而且实际模拟中还存在不少问题等待解决。不过Ingress用700w的用户证明了虚拟实境游戏的乐趣与可行性，而随着 Google Glass / Apple Watch 这样的可穿戴带GPS设备的普及，虚拟实境将真正进入玩家的生活。也许有一天，旅游而回的你给朋友携带的是虚拟国度的香辛料，而非现实社会的伴手礼也说不定。

规则1/2有Ingress可以参考，[TravelingMerchant开发手记02](http://blog.imaou.com/game/2014/09/30/merchant_development_notes2.html)将重点说明**规则3:供需与价格**的模拟。
