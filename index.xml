<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>å¤¢æ²‰æŠ¹å¤§æ‹‰</title><link>https://blog.imaou.com/</link><description>Recent content on å¤¢æ²‰æŠ¹å¤§æ‹‰</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><lastBuildDate>Sun, 09 Oct 2022 12:00:00 +0800</lastBuildDate><atom:link href="https://blog.imaou.com/index.xml" rel="self" type="application/rss+xml"/><item><title>å…³äº</title><link>https://blog.imaou.com/page/about/</link><pubDate>Sun, 09 Oct 2022 12:00:00 +0800</pubDate><guid>https://blog.imaou.com/page/about/</guid><description>ğŸš§ æ–½å·¥ä¸­ / KEEP OUT ğŸš§</description></item><item><title>è®­ç»ƒ Darknet YOLOv4/YOLOv3-tiny è¿›è¡Œè‡ªå®šä¹‰ç‰©ä½“è¯†åˆ«</title><link>https://blog.imaou.com/201906/darknet_yolov4_finetune/</link><pubDate>Fri, 14 Jun 2019 20:00:00 +0800</pubDate><guid>https://blog.imaou.com/201906/darknet_yolov4_finetune/</guid><description>æœ€è¿‘æœºç¼˜å·§åˆä¸‹æ¥è§¦åˆ°æ™ºæ…§é›¶å”®ï¼Œäºæ˜¯äº†è§£åˆ°ä¸€äº›åŸºäºæ‘„åƒå¤´çš„æµé‡ï¼ˆäºº/è½¦ï¼‰ç›‘æ§æ–¹æ¡ˆã€‚å…¶åŸºæœ¬æ€è·¯ï¼ŒåŸºæœ¬éƒ½æ˜¯é€šè¿‡SSDæˆ–è€…YOLOè¯†åˆ«å…·ä½“äººç‰©ï¼Œç„¶åè®¡ç®—å¸§ä¸å¸§ä¸­ç‰©ä½“ç»è¿‡gateçš„ä¸ªæ•°&amp;hellip; æ‰€ä»¥ç¬¬ä¸€æ­¥å…ˆæ¥æå®šç‰©ä½“è¯†åˆ«ã€‚
å…ˆé™„ä¸Šcolab notebookï¼Œä¸æƒ³çœ‹ä»‹ç»çš„å¯ä»¥ç›´æ¥çœ‹æ¼”ç¤ºï¼š
YOLOv3-tiny: https://colab.research.google.com/drive/1XSArXZImsYsorzcv4vX3aN5TQaLkKmPx?usp=sharing YOLOv4è®­ç»ƒè¾ƒæ…¢ï¼ŒGPUå¤§æ¦‚è¦åŠå°æ—¶æ‰100æ¬¡è¿­ä»£: https://colab.research.google.com/drive/1XIpuhhTlVvYIDzenZxdWKl-tk7lwbL-2?usp=sharing 1. AlexeyAB/darknet çœ‹äº†ä¸‹ï¼Œdarknetåº”è¯¥æ˜¯ç›®å‰æœ€å¥½ä¸Šæ‰‹çš„é¡¹ç›®ï¼Œç¼–è¯‘å°±æ˜¯ä¸ªbinæ–‡ä»¶ï¼ŒåŠ è½½æ¨¡å‹å’Œtraining(fine-tune)éƒ½æ˜¯ç”¨è¿™ä¸ªå·¥å…·å®Œæˆã€‚å› ä¸ºè¦ç”¨åˆ°æœ€æ–°çš„ YOLOv4ï¼Œæ‰€ä»¥é€‰alexeyabçš„ç‰ˆæœ¬ã€‚
1.1 ç¼–è¯‘ (make darknet) # clone å¹¶ç¼–è¯‘darknet !test -d darknet || git clone https://github.com/AlexeyAB/darknet %cd darknet !make -j8 1.2 é¢„æµ‹ (detect) å…ˆä¸‹è½½é¢„è®­ç»ƒçš„æƒé‡ï¼šyolov3-tiny-prn.weightsï¼Œæ”¾åœ¨å½“å‰ç›®å½•ä¸‹
# å‡†å¤‡é¢„æµ‹ç”¨å›¾ç‰‡ï¼Œè¿™é‡Œæˆ‘ä»¬ç”¨ä¸€å¼ é«˜é€Ÿçš„ç…§ç‰‡ !wget https://github.com/nathanrooy/rpi-urban-mobility-tracker/raw/master/notebooks/highway02_frame000010.jpg # é¢„æµ‹ !./darknet detect cfg/yolov3-tiny-prn.cfg yolov3-tiny-prn.weights highway02_frame000010.jpg -dont_show ç»“æŸåä¼šåœ¨å½“å‰ç›®å½•ï¼Œç”Ÿæˆä¸€ä¸ªpredictions.jpgï¼Œå³æ˜¯æ ‡æ³¨ç»“æœã€‚æˆ‘ä»¬ç”¨PILè¾“å‡ºï¼Œå³å¯çœ‹åˆ°æ ‡æ³¨æƒ…å†µï¼š
from PIL import Image Image.open(&amp;#39;predictions.jpg&amp;#39;) YOLOv4æ ‡æ³¨çš„æ›´å¤šï¼Œè¿è¿œå¤„çš„è½¦å’Œå¹¿å‘Šç‰Œéƒ½æ ‡å‡ºæ¥äº†ï¼ˆè™½ç„¶è¯†åˆ«æˆäº†ç«è½¦ï¼Œä¸è¿‡çœ‹èµ·æ¥ç¡®å®æœ‰ç‚¹åƒï¼‰
2. è‡ªå®šä¹‰ç‰©ä½“è¯†åˆ« (whill dataset) ä¸ºäº†è¯†åˆ«è‡ªå®šä¹‰çš„ç‰©ä½“ï¼Œæˆ‘ä»¬è‡ªç„¶è¦æ‰¾ä¸ªæ²¡è§è¿‡çš„ä¸œè¥¿å’Œå¹¶æ ‡æ³¨ã€‚è¿™é‡Œä¸ºäº†ç®€ä¾¿ï¼Œæˆ‘ä»¬ç”¨KazumichiShiraiæä¾›çš„æ•°æ®é›†ï¼Œ100æ¥å¼ è‡ªåŠ¨è½®æ¤…çš„å›¾ç‰‡è¿›è¡Œç›®æ ‡è¯†åˆ«ã€‚
æ•ˆæœå¦‚ä¸‹ï¼š
åŸç‰ˆæ˜¯ç”¨ darknet53è®­ç»ƒ çš„ï¼Œè¿™é‡Œæˆ‘ä»¬æ”¹æˆç”¨YOLOçš„é¢„è®­ç»ƒæƒé‡ã€‚
ä¸ºç®€ä¾¿èµ·è§ï¼Œæˆ‘å·²ç»æ‰“åŒ…å¥½äº†è¿™äº›å›¾ç‰‡å’ŒYOLOv4çš„è®­ç»ƒå‚æ•°é…ç½®ã€‚æ³¨æ„ä¸æ˜¯ä¸‹è½½åˆ°æœ¬åœ°ï¼Œç›´æ¥è½¬å‚¨åˆ°Google Driveçš„ datastes/whill/ ä¸‹å¤‡ç”¨ï¼š
https://drive.google.com/drive/folders/1A6ogns-_aJee3mItRykMy_ZtqzsyOeZu?usp=sharing
2.1 darknet training ç¯å¢ƒå‡†å¤‡ é¦–å…ˆå‚è€ƒæ–¹æ³•1ç¼–è¯‘darknetï¼Œä½†è®­ç»ƒå¿…é¡»ä½¿ç”¨GPUï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å…ˆæ”¹ä¸‹Makefileï¼ˆæœ€å¼€å§‹å°±æ˜¯å¡è¿™é‡Œï¼Œé»˜è®¤éGPUçš„darknetï¼Œåˆ°trainæ­¥éª¤å°±æŠ¥é”™ï¼‰ã€‚ä¸»è¦å˜åŠ¨æ˜¯å¤´éƒ¨çš„å‡ ä¸ªå‚æ•°(å¦‚æœGPUå¤Ÿå¥½ï¼ŒCUDNN_HALFå¯æŒ‰å®é™…æƒ…å†µæ‰“å¼€)ï¼š</description></item><item><title>Google Colabä¸­ä¸€äº›ä½ å¯èƒ½ä¸çŸ¥é“çš„tricks</title><link>https://blog.imaou.com/201903/colab_tricks/</link><pubDate>Sun, 03 Mar 2019 20:00:00 +0800</pubDate><guid>https://blog.imaou.com/201903/colab_tricks/</guid><description>å‡ å¹´åé‡æ–°å¼€å§‹å†™æŠ€æœ¯blogã€‚ä¸€ç›´æŠŠcolabå½“å¤‡å¿˜å½•ï¼Œç›´åˆ°æœ€è¿‘æœ‰äººé—®èµ·æ¥BERTçš„å„ç§é—®é¢˜ï¼Œè€Œæˆ‘è‡ªå·±åˆæœ‰ç‚¹è®°ä¸æ¸…äº†(çœ‹å®Œçš„ä»£ç è¿‡ä¸ªå¹´å°±å¿˜å¹²å‡€&amp;hellip;æ‚è„¸) æ—¢ç„¶ç”¨äº†colabè¿™ä¹ˆä¹…ï¼Œç¬¬ä¸€ç¯‡å°±å¸®colabæ‰“æ‰“å¹¿å‘Šå§ :stuck_out_tongue_closed_eyes:
Google Colab Colabæ˜¯ä¸€ä¸ªGoogleæä¾›çš„å…è´¹Jupyterç¬”è®°æœ¬ç¯å¢ƒï¼Œå®Œå…¨ä¿å­˜äºäº‘ç«¯ï¼Œå¹¶ä¸”æœ‰å…è´¹çš„GPU/TPUå¯ä»¥ä½¿ç”¨ï¼š
https://colab.research.google.com/notebooks/welcome.ipynb
1. ç”¨ä»£ç æ¸…ç©ºå•å…ƒæ ¼è¾“å‡º clear_output() åœ¨BERTæ•™ç¨‹é‡Œçœ‹åˆ°çš„æ–¹æ³•ã€‚æœ‰æ—¶æƒ³çœ‹è¿­ä»£è¿›åº¦ï¼Œä½†æœ€ååˆä¸æƒ³æ»‘åŠ¨å¾ˆä¹…çœ‹evalçš„æ•ˆæœè¾“å‡ºï¼Œå°±å¯ä»¥åœ¨trainå®ŒæˆååŠ ä¸Šclear_output()
from IPython.display import clear_output # è¿™é‡Œè¾“å‡ºå¾ˆå¤šå†…å®¹ï¼Œæ¯”å¦‚è®­ç»ƒmodle clear_output() # æ‰§è¡Œåä¹‹å‰çš„è¾“å‡ºå°†è¢«æ¸…ç©º 2. è®¿é—® Google Drive ä¸Šçš„æ•°æ® colabçš„æ•°æ®ä¸æ˜¯æ°¸ä¹…å­˜å‚¨çš„ï¼Œä¸€äº›è®­ç»ƒå¥½çš„modelæˆ–è€…ç§æœ‰æ•°æ®ï¼Œå¾€å¾€éœ€è¦å­˜å‚¨åˆ°gdriveä¸Šï¼š
from google.colab import drive drive.mount(&amp;#39;/content/gdrive&amp;#39;) GDRIVE_ROOT = &amp;#34;/content/gdrive/My Drive&amp;#34; !ls &amp;#34;$GDRIVE_ROOT/datasets&amp;#34; æ‰§è¡Œåä¼šè¾“å‡ºä¸ªè®¤è¯urlå’Œè¾“å…¥æ¡†ï¼Œç‚¹å‡»urlåå¤åˆ¶é‡Œé¢çš„keyï¼Œç²˜è´´åœ¨è¾“å…¥æ¡†é‡Œå›è½¦å³å¯ã€‚
ä¹‹åçš„!lsè¯­æ³•ï¼Œæ„Ÿå¹å·å’Œjupyteré‡Œä¸€æ ·ï¼Œä»£è¡¨æ‰§è¡Œshellï¼Œpythonçš„å˜é‡å¯ä»¥ç±»ä¼¼ä¸Šé¢çš„$GDRIVE_ROOTæ¥è®¿é—®
3. Eager Execution è¿™ä¸ªä¼°è®¡å¤§éƒ¨åˆ†åŒå­¦éƒ½çŸ¥é“ã€‚colabç±»ä¼¼anacondaé»˜è®¤å®‰è£…äº†å¾ˆå¤šåŸºç¡€åº“ã€‚å½“ç„¶å¦‚æœç¼ºå°‘ï¼Œè¿˜æ˜¯å¯ä»¥é€šè¿‡!pipæ¥å®‰è£…å’Œå‡çº§çš„
import tensorflow as tf tf.enable_eager_execution() 4. Cellçš„æ ‡é¢˜å’Œå‚æ•°æ§åˆ¶ æ³¨é‡ŠååŠ @titleä¸”æ”¾åœ¨é¡¶è¡Œï¼Œå³ä¾§ä¼šå‡ºç°å¯¹åº”çš„æ ‡é¢˜å†…å®¹ã€‚è€ŒæŸä¸ªå˜é‡èµ‹å€¼åï¼ŒåŠ ä¸Š@paramåˆ™å¯ä»¥æä¾›è¾“å…¥é€‰é¡¹ï¼š
#@title æ¼”ç¤ºå¦‚ä½•æä¾›å‚æ•°æ§åˆ¶ LOG_DIR = &amp;#39;/tmp/model&amp;#39; #@param {type:&amp;#34;string&amp;#34;} text_and_dropdown = &amp;#39;faces&amp;#39; #@param [&amp;#34;faces&amp;#34;, &amp;#34;celebs&amp;#34;, &amp;#34;cats&amp;#34;, &amp;#34;cars&amp;#34;, &amp;#34;bedrooms&amp;#34;, &amp;#34;anime&amp;#34;] seed = 123456 #@param {type:&amp;#34;slider&amp;#34;, min: 0, max: 10000000, step: 1} 5.</description></item></channel></rss>